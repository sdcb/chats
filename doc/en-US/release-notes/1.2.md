<!-- Language: en-US -->
<p align="right"><b>English</b> | <a href="../../zh-CN/release-notes/1.2.md">简体中文</a></p>

# Chats 1.2.0 Release Notes

> Release date: 2025-04-25 (15 commits since 1.1.0)

Version 1.2.0 is a significant management experience upgrade, focusing on admin dashboard and data visualization capabilities, while optimizing chat message interaction experience. This release introduces a new admin analytics panel with multiple chart types and mobile responsiveness, along with comprehensive UI/UX improvements for the chat message page.

## Highlights

- **Admin Dashboard**: New data visualization panel with multi-dimensional analytics for chat volume, cost consumption, and token usage
- **Mobile Adaptation**: Full mobile device support for admin panel with optimized sidebar and responsive layout
- **Chat Message UI Optimization**: Improved message display styles with new message type toggle functionality
- **Interaction Improvements**: Message editing now uses Ctrl+Enter to update, search with debounce optimization

---

## What's New

### 1) Admin Dashboard

Brand new data analytics and visualization features:

**Core Components**:
- `ChatCountChart`: Chat volume trend chart
- `CostConsumptionChart`: Cost consumption analysis chart
- `TokenConsumptionChart`: Token usage statistics chart
- `PieChartCard`: Pie chart card component supporting multiple data dimensions
- `StatsCards`: Statistics cards for quick overview of key metrics
- `DateSelector`: Date selector supporting custom time ranges

**Technical Implementation**:
- Integrated Recharts library for rich chart types
- Added `adminApis.ts` for admin API interfaces
- Support for dark/light theme auto-adaptation
- Reusable chart components for easy extension

**Data Dimensions**:
- User activity statistics
- Model usage distribution
- Cost trend analysis
- Token consumption monitoring
- Chat session statistics

### 2) Mobile Responsiveness

Full mobile adaptation for admin panel:

**UI Component Upgrades**:
- New `sidebar.tsx` component (783 lines) implementing responsive sidebar
- Added `useMobile` hook for intelligent device detection
- Optimized admin panel layout (`admin/layout/index.tsx`)

**Adaptation Coverage**:
- Dashboard
- User Management
- Model Management
- Message Management
- Global Configs
- File Service
- Login Service
- Invitation Code Management
- User Config
- Usage Statistics

**Interaction Optimization**:
- Touch-friendly button sizes for mobile
- Adaptive table and card layouts
- Optimized navigation menu experience

### 3) Chat Message Experience Optimization

Multiple message interaction improvements:

**Message Display Mode Toggle**:
- New message display type toggle functionality
- Users can choose different message rendering styles
- Refactored `ChatMessage` and `ResponseMessage` components
- Added `chatMessage.ts` type definitions

**Message Style Optimization**:
- 5 iterations of message UI/UX optimization
- Improved visual hierarchy and spacing
- Enhanced message bubble styles and color contrast
- Better readability and visual consistency

**Editing Interaction Improvements**:
- Message editing now triggered by Ctrl+Enter
- Prevents accidental submissions from misoperations
- Better aligned with user operation habits

### 4) Performance & Experience Optimization

**Search Debounce**:
- Added debounce handling for search functionality
- Reduced unnecessary API calls
- Improved search response speed and server performance

**UI Detail Optimization**:
- Optimized icon and button styles
- Improved `ExportButton` interaction
- Adjusted global CSS styles (`globals.css`)
- Optimized `ChatPresetList` and `ChatPresetModal`

**Code Quality**:
- Fixed company import error
- Removed useless references
- Code structure optimization and cleanup

### 5) Dependencies & Tools Upgrade

**Frontend Dependencies**:
- Added Recharts library and related dependencies
- Updated Radix UI component library versions
- Added chart-related type definitions (`chart.ts`)
- Extended common type definitions (`common.ts`)

**Internationalization**:
- Updated Chinese and English language packs
- Added dashboard and chart-related translations
- Improved UI copy

---

## Technical Details

### Chart Library Integration

This version integrates Recharts as the primary data visualization solution:
- Declarative React component API
- Support for multiple chart types (line, bar, pie, etc.)
- Built-in responsive support
- Easy to customize themes and styles

### Mobile Responsive Design

Modern responsive design practices:
- Tailwind CSS media queries
- Flexible Box and Grid layouts
- Touch-optimized interactive elements
- Adaptive navigation and sidebar

### Component Architecture Optimization

Improved component design patterns:
- More granular component decomposition
- Enhanced component reusability
- Clearer data flow and state management
- TypeScript type safety guarantees

---

## Upgrade Notes

### Compatibility

- This version is fully backward compatible with 1.1.0
- No database migration required
- Frontend resources need redeployment

### Deployment Recommendations

1. Backup current deployment (optional but recommended)
2. Stop existing service
3. Deploy new version files
4. Clear browser cache to load new frontend resources
5. Start service and verify functionality

### Docker Images

Multi-platform Docker images available:
- Linux x64: `sdcb/chats:1.2.0.780-linux-x64`
- Linux ARM64: `sdcb/chats:1.2.0.780-linux-arm64`
- Windows Nano Server 1809: `sdcb/chats:1.2.0.780-nanoserver-1809`
- Windows Nano Server LTSC 2022: `sdcb/chats:1.2.0.780-nanoserver-ltsc2022`
- Windows Nano Server LTSC 2025: `sdcb/chats:1.2.0.780-nanoserver-ltsc2025`

---

## Related Links

- **Full Changelog**: https://github.com/sdcb/chats/compare/1.1.0.774...1.2.0.780
- **GitHub Release**: https://github.com/sdcb/chats/releases/tag/1.2.0.780
- **Docker Hub**: https://hub.docker.com/r/sdcb/chats

---

## Acknowledgments

Thanks to all developers and user feedback that contributed to this version!

Special thanks to @gray for significant contributions to the admin panel and visualization features.
